{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted } from \"vue\";\nexport default {\n  __name: 'KakaoMap',\n  props: {\n    locations: Array\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const map = ref(null);\n    const prepareMap = () => {\n      const script = document.createElement(\"script\");\n      script.src = \"//dapi.kakao.com/v2/maps/sdk.js?appkey=2701d0491303d0eea69f2f2b5138d02f&autoload=false\";\n      script.onload = () => window.kakao.maps.load(drawMap);\n      document.head.appendChild(script);\n    };\n    const drawMap = () => {\n      const maps = window.kakao.maps;\n      const container = document.getElementById(\"map\");\n      const options = {\n        center: new maps.LatLng(0, 0),\n        level: 6\n      };\n      map.value = new maps.Map(container, options);\n      const linePath = [];\n      const Lats = [];\n      const Lngs = [];\n      props.locations.map(location => {\n        const position = new maps.LatLng(location.Lat, location.Lng);\n        const marker = new maps.Marker({\n          position: position\n        });\n        const infoWindow = new maps.InfoWindow({\n          position: position,\n          content: `<div style=\"padding:5px;text-align:center;\">${location.name}</div>`\n        });\n        marker.setMap(map.value);\n        infoWindow.open(map.value, marker);\n        linePath.push(position);\n        Lats.push(location.Lat);\n        Lngs.push(location.Lng);\n      });\n      var polyline = new maps.Polyline({\n        path: linePath,\n        strokeWeight: 5,\n        strokeColor: \"blue\",\n        strokeOpacity: 0.7,\n        strokeStyle: \"solid\"\n      });\n      polyline.setMap(map.value);\n      const newCenter = new maps.LatLng(Lats.reduce((p, c) => p + c) / Lats.length, Lngs.reduce((p, c) => p + c) / Lngs.length);\n      map.value.panTo(newCenter);\n    };\n    onMounted(() => {\n      if (window.kakao && window.kakao.maps) {\n        drawMap();\n      } else {\n        prepareMap();\n      }\n    });\n    const __returned__ = {\n      props,\n      map,\n      prepareMap,\n      drawMap,\n      ref,\n      onMounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","map","prepareMap","script","document","createElement","src","onload","window","kakao","maps","load","drawMap","head","appendChild","container","getElementById","options","center","LatLng","level","value","Map","linePath","Lats","Lngs","props","locations","location","position","Lat","Lng","marker","Marker","infoWindow","InfoWindow","content","name","setMap","open","push","polyline","Polyline","path","strokeWeight","strokeColor","strokeOpacity","strokeStyle","newCenter","reduce","p","c","length","panTo"],"sources":["/Users/seoyeonju/Library/CloudStorage/OneDrive-계원예술대학교/풀스텍/weave-wego 2/vue_front/src/components/KakaoMap.vue"],"sourcesContent":["<template>\n  <div id=\"map\" />\n</template>\nㅇ\n\n<script setup>\nconst props = defineProps({\n  locations: Array,\n});\n\nimport { ref, onMounted } from \"vue\";\n\nconst map = ref(null);\n\nconst prepareMap = () => {\n  const script = document.createElement(\"script\");\n  script.src =\n    \"//dapi.kakao.com/v2/maps/sdk.js?appkey=2701d0491303d0eea69f2f2b5138d02f&autoload=false\";\n\n  script.onload = () => window.kakao.maps.load(drawMap);\n\n  document.head.appendChild(script);\n};\n\nconst drawMap = () => {\n  const maps = window.kakao.maps;\n\n  const container = document.getElementById(\"map\");\n  const options = {\n    center: new maps.LatLng(0, 0),\n    level: 6,\n  };\n\n  map.value = new maps.Map(container, options);\n\n  const linePath = [];\n  const Lats = [];\n  const Lngs = [];\n\n  props.locations.map((location) => {\n    const position = new maps.LatLng(location.Lat, location.Lng);\n    const marker = new maps.Marker({ position: position });\n    const infoWindow = new maps.InfoWindow({\n      position: position,\n      content: `<div style=\"padding:5px;text-align:center;\">${location.name}</div>`,\n    });\n\n    marker.setMap(map.value);\n    infoWindow.open(map.value, marker);\n\n    linePath.push(position);\n    Lats.push(location.Lat);\n    Lngs.push(location.Lng);\n  });\n\n  var polyline = new maps.Polyline({\n    path: linePath,\n    strokeWeight: 5,\n    strokeColor: \"blue\",\n    strokeOpacity: 0.7,\n    strokeStyle: \"solid\",\n  });\n\n  polyline.setMap(map.value);\n\n  const newCenter = new maps.LatLng(\n    Lats.reduce((p, c) => p + c) / Lats.length,\n    Lngs.reduce((p, c) => p + c) / Lngs.length\n  );\n\n  map.value.panTo(newCenter);\n};\n\nonMounted(() => {\n  if (window.kakao && window.kakao.maps) {\n    drawMap();\n  } else {\n    prepareMap();\n  }\n});\n</script>\n\n<style scoped>\n#map {\n  width: 100%;\n  height: 400px;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}